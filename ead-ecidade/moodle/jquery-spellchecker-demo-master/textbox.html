<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8">
    <title>jQuery Spellchecker - Bootstrap-wysihtml5 demo</title>

    <meta name="description" content="jQuery Spellchecker Bootstrap-wysihtml5 demo">
    <meta name="author" content="Richard Willis">

    <link href="js/lib/bootstrap-wysihtml5/css/bootstrap-wysihtml5.css" rel="stylesheet"></link>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jquery.spellchecker.css" rel="stylesheet" />
    <link href="css/demos.css" rel="stylesheet" />

    <style type="text/css">
    .wysihtml5-sandbox {
      border: 1px solid #ccc !important;
    }
    </style>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1636725-34']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>

<div class="tab-content">
            <div class="tab-pane active well" id="demo">
          <ul class="wysihtml5-toolbar"><li class="dropdown"><ul class="dropdown-menu"><li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="div" href="javascript:;" unselectable="on">Normal text</a></li><li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" href="javascript:;" unselectable="on">Heading 1</a></li><li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" href="javascript:;" unselectable="on">Heading 2</a></li><li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" href="javascript:;" unselectable="on">Heading 3</a></li></ul></li><li><div class="btn-group"></div></li><li><div class="btn-group"></div></li><li></li><li></li><li><a class="btn" data-wysihtml5-command="spellcheck" href="javascript:;" unselectable="on"><i class="icon-spellchecker spellchecker-button-icon"></i></a></li></ul><textarea class="textarea" style="width: 90%; display: none;" rows="10">Clikc on the spellchecker icn above to check the pselling of this text.</textarea><input type="hidden" name="_wysihtml5_mode" value="1"><iframe class="wysihtml5-sandbox" security="restricted" allowtransparency="true" frameborder="0" width="0" height="0" marginwidth="0" marginheight="0" style="border-collapse: separate; border: 1px solid rgb(204, 204, 204); clear: none; display: inline-block; float: none; margin: 0px 0px 9px; outline: rgb(85, 85, 85) none 0px; outline-offset: 0px; padding: 4px 6px; position: static; top: auto; left: auto; right: auto; bottom: auto; z-index: auto; vertical-align: top; text-align: start; box-sizing: content-box; -webkit-box-shadow: rgba(0, 0, 0, 0.0745098) 0px 1px 1px 0px inset; box-shadow: rgba(0, 0, 0, 0.0745098) 0px 1px 1px 0px inset; border-radius: 3px; width: 90%; height: 200px; background-color: rgb(255, 255, 255);"></iframe>
         </div>
         <div class="tab-pane" id="usage">
        <pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">  </span></li><li class="L2"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> element </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="str">'.textarea'</span><span class="pun">);</span></li><li class="L3"><span class="pln">  </span></li><li class="L4"><span class="pln">  element</span><span class="pun">.</span><span class="pln">wysihtml5</span><span class="pun">({</span></li><li class="L5"><span class="pln">    toolbar</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></li><li class="L6"><span class="pln">       </span><span class="str">"spellchecker"</span><span class="pun">:</span></li><li class="L7"><span class="pln">          </span><span class="str">"&lt;li&gt;"</span><span class="pln"> </span><span class="pun">+</span></li><li class="L8"><span class="pln">              </span><span class="str">"&lt;a class='btn' data-wysihtml5-command='spellcheck'&gt;"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span></li><li class="L9"><span class="pln">              </span><span class="str">"&lt;i class='icon-spellchecker spellchecker-button-icon'&gt;&lt;/i&gt;&lt;/a&gt;"</span><span class="pln"> </span><span class="pun">+</span></li><li class="L0"><span class="pln">          </span><span class="str">"&lt;/li&gt;"</span></li><li class="L1"><span class="pln">    </span><span class="pun">},</span></li><li class="L2"><span class="pln">    stylesheets</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span></li><li class="L3"><span class="pln">      </span><span class="str">"./css/jquery.spellchecker.css"</span></li><li class="L4"><span class="pln">    </span><span class="pun">],</span><span class="pln">     </span></li><li class="L5"><span class="pln">  </span><span class="pun">});</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> wysihtml5 </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">data</span><span class="pun">(</span><span class="str">'wysihtml5'</span><span class="pun">);</span></li><li class="L8"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> body </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="pln">wysihtml5</span><span class="pun">.</span><span class="pln">editor</span><span class="pun">.</span><span class="pln">composer</span><span class="pun">.</span><span class="pln">iframe</span><span class="pun">).</span><span class="pln">contents</span><span class="pun">().</span><span class="pln">find</span><span class="pun">(</span><span class="str">'body'</span><span class="pun">);</span></li><li class="L9"><span class="pln">  </span></li><li class="L0"><span class="pln">  </span><span class="kwd">var</span><span class="pln"> toggle </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">  </span></li><li class="L2"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> spellchecker </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">    </span><span class="kwd">function</span><span class="pln"> create</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">      spellchecker </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> $</span><span class="pun">.</span><span class="typ">SpellChecker</span><span class="pun">(</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln">        lang</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en'</span><span class="pun">,</span></li><li class="L8"><span class="pln">        parser</span><span class="pun">:</span><span class="pln"> </span><span class="str">'html'</span><span class="pun">,</span></li><li class="L9"><span class="pln">        webservice</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></li><li class="L0"><span class="pln">          path</span><span class="pun">:</span><span class="pln"> </span><span class="str">"../webservices/php/SpellChecker.php"</span><span class="pun">,</span></li><li class="L1"><span class="pln">          driver</span><span class="pun">:</span><span class="pln"> </span><span class="str">'pspell'</span></li><li class="L2"><span class="pln">        </span><span class="pun">},</span></li><li class="L3"><span class="pln">        suggestBox</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln">          position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'below'</span></li><li class="L5"><span class="pln">        </span><span class="pun">}</span></li><li class="L6"><span class="pln">      </span><span class="pun">});</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">      spellchecker</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'check.success'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L9"><span class="pln">        alert</span><span class="pun">(</span><span class="str">'There are no incorrectly spelt words.'</span><span class="pun">);</span></li><li class="L0"><span class="pln">      </span><span class="pun">});</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">      spellchecker</span><span class="pun">.</span><span class="pln">check</span><span class="pun">();</span></li><li class="L3"><span class="pln">    </span><span class="pun">}</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">    </span><span class="kwd">function</span><span class="pln"> destroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L6"><span class="pln">      spellchecker</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span></li><li class="L7"><span class="pln">      spellchecker </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></li><li class="L8"><span class="pln">    </span><span class="pun">}</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="kwd">function</span><span class="pln"> toggle</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">      </span><span class="pun">(!</span><span class="pln">spellchecker</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> create</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> destroy</span><span class="pun">();</span></li><li class="L2"><span class="pln">    </span><span class="pun">}</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> toggle</span><span class="pun">;</span></li><li class="L5"><span class="pln">  </span><span class="pun">})();</span></li><li class="L6"><span class="pln">  </span></li><li class="L7"><span class="pln">  wysihtml5</span><span class="pun">.</span><span class="pln">toolbar</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="str">'[data-wysihtml5-command="spellcheck"]'</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="pln">toggle</span><span class="pun">);</span></li><li class="L8"><span class="pun">})();</span></li></ol></pre>
      </div></div>

   <div class="container">

      <div class="hero-unit">
        <h1>jQuery Spellchecker - Bootstrap-wysihtml5 demo</h1>
      </div>

      <div class="row-fluid">
          <p>This page shows how the spellchecker can be integrated the into Bootstrap-wysihtml5 editor:</p>
          <ul class="nav nav-tabs">
            <li class="active"><a href="#demo" data-toggle="tab">Demo</a></li>
            <li><a href="#usage" data-toggle="tab">Usage</a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane active well" id="demo">
          <textarea class="textarea" style="width:90%" rows="10">Clikc on the spellchecker icn above to check the pselling of this text.</textarea>
         </div>
         <div class="tab-pane" id="usage">
        <pre class="prettyprint linenums">
(function() {
  
  var element = $('.textarea');
  
  element.wysihtml5({
    toolbar: {
       "spellchecker":
          "&lt;li&gt;" +
              "&lt;a class='btn' data-wysihtml5-command='spellcheck'&gt;" + 
              "&lt;i class='icon-spellchecker spellchecker-button-icon'&gt;&lt;/i&gt;&lt;/a&gt;" +
          "&lt;/li&gt;"
    },
    stylesheets: [
      "./css/jquery.spellchecker.css"
    ],     
  });

  var wysihtml5 = element.data('wysihtml5');
  var body = $(wysihtml5.editor.composer.iframe).contents().find('body');
  
  var toggle = (function() {
  
    var spellchecker = null;

    function create() {

      spellchecker = new $.SpellChecker(body, {
        lang: 'en',
        parser: 'html',
        webservice: {
          path: "../webservices/php/SpellChecker.php",
          driver: 'pspell'
        },
        suggestBox: {
          position: 'below'
        }
      });

      spellchecker.on('check.success', function() {
        alert('There are no incorrectly spelt words.');
      });

      spellchecker.check();
    }

    function destroy() {
      spellchecker.destroy();
      spellchecker = null;
    }

    function toggle() {
      (!spellchecker) ? create() : destroy();
    }

    return toggle;
  })();
  
  wysihtml5.toolbar.find('[data-wysihtml5-command="spellcheck"]').click(toggle);
})();</pre>
      </div></div></div>

      <footer>
      </footer>

    </div> <!-- /container -->

    <script src="js/lib/bootstrap-wysihtml5/js/wysihtml5-0.3.0.js"></script>
    <script src="js/lib/jquery/jquery-1.8.2.min.js"></script>
    <script src="js/lib/bootstrap/bootstrap.min.js"></script>
    <script src="js/lib/bootstrap-wysihtml5/js/bootstrap-wysihtml5.js"></script>
    <script src="js/lib/prettyprint/prettyprint.js"></script>
    <script src="js/jquery.spellchecker.js"></script>
    <script src="js/app.js"></script>

    <script>
    (function() {
      
      var element = $('.textarea');
      
      element.wysihtml5({
        toolbar: {
           "spellchecker":
              "<li>" +
                  "<a class='btn' data-wysihtml5-command='spellcheck'>" + 
                  "<i class='icon-spellchecker spellchecker-button-icon'></i></a>" +
              "</li>"
        },
        stylesheets: [
          "./css/jquery.spellchecker.css"
        ],     
      });

      var wysihtml5 = element.data('wysihtml5');
      var body = $(wysihtml5.editor.composer.iframe).contents().find('body');
      
      var toggle = (function() {
      
        var spellchecker = null;

        function create() {

          spellchecker = new $.SpellChecker(body, {
            lang: 'pt-br',
            parser: 'html',
            webservice: {
              path: "../webservices/php/SpellChecker.php",
              driver: 'pspell'
            },
            suggestBox: {
              position: 'below'
            }
          });

          spellchecker.on('check.success', function() {
            alert('There are no incorrectly spelt words.');
          });

          spellchecker.check();
        }

        function destroy() {
          spellchecker.destroy();
          spellchecker = null;
        }

        function toggle() {
          (!spellchecker) ? create() : destroy();
        }

        return toggle;
      })();
      
      wysihtml5.toolbar.find('[data-wysihtml5-command="spellcheck"]').click(toggle);
    })();
    </script>
  </body>
</html>
